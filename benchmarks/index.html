<!doctype html><html prefix="og: https://ogp.me/ns#" data-theme=dark lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="dark light" name=color-scheme><title>Benchmarks | hx</title><meta content="Performance benchmarks comparing hx native builds to cabal-based builds" name=description><meta content="haskell, package manager, project manager, rust, cabal, stack, fast, hx" name=keywords><meta content=raskell.io name=author><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><link href=https://hx.raskell.io/benchmarks/ rel=canonical><meta content=article property=og:type><meta content=https://hx.raskell.io/benchmarks/ property=og:url><meta content=Benchmarks property=og:title><meta content="Performance benchmarks comparing hx native builds to cabal-based builds" property=og:description><meta content=hx property=og:site_name><meta content=en property=og:locale><meta content=summary_large_image name=twitter:card><meta content=https://hx.raskell.io/benchmarks/ name=twitter:url><meta content=Benchmarks name=twitter:title><meta content="Performance benchmarks comparing hx native builds to cabal-based builds" name=twitter:description><script type=application/ld+json>
    {
        "@context": "https://schema.org",
        "@graph": [
            {
                "@type": "WebSite",
                "@id": "https://hx.raskell.io#website",
                "url": "https://hx.raskell.io",
                "name": "hx",
                "description": "An extremely fast Haskell package and project manager, written in Rust.",
                
                "author": {
                    "@type": "Person",
                    "name": "raskell.io"
                },
                
                "inLanguage": "en"
            },
            {
                "@type": "WebPage",
                "@id": "https://hx.raskell.io/benchmarks/#webpage",
                "url": "https://hx.raskell.io/benchmarks/",
                "name": "Benchmarks",
                "isPartOf": {
                    "@id": "https://hx.raskell.io#website"
                },
                "description": "Performance benchmarks comparing hx native builds to cabal-based builds",
                "inLanguage": "en"
                
                
            }
            
            ,{
                "@type": "Article",
                "@id": "https://hx.raskell.io/benchmarks/#article",
                "isPartOf": {
                    "@id": "https://hx.raskell.io/benchmarks/#webpage"
                },
                "headline": "Benchmarks",
                
                "description": "Performance benchmarks comparing hx native builds to cabal-based builds",
                
                
                
                
                "author": {
                    "@type": "Person",
                    "name": "raskell.io"
                },
                
                
                
                "wordCount": 328,
                
                "inLanguage": "en"
            }
            
        ]
    }
    </script><script type=application/ld+json>
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
            {
                "@type": "ListItem",
                "position": 1,
                "name": "hx",
                "item": "https://hx.raskell.io"
            }
            
            
            
            ,{
                "@type": "ListItem",
                "position": 2,
                "name": "hx",
                "item": "https://hx.raskell.io/"
            }
            
            
            ,{
                "@type": "ListItem",
                "position": 3,
                "name": "Benchmarks",
                "item": "https://hx.raskell.io/benchmarks/"
            }
        ]
    }
    </script><link href=https://hx.raskell.io/style.css rel=stylesheet><link as=font crossorigin href=https://hx.raskell.io/fonts/Geist-Variable.woff2 rel=preload type=font/woff2><link as=font crossorigin href=https://hx.raskell.io/fonts/GeistMono-Variable.woff2 rel=preload type=font/woff2><script>(()=>{let c=`auto`;try{var a=localStorage.getItem(`tanuki-theme`)||c;var b=a===c?(window.matchMedia(`(prefers-color-scheme: dark)`).matches?`dark`:`light`):a;document.documentElement.setAttribute(`data-theme`,b);document.documentElement.setAttribute(`data-theme-setting`,a)}catch(a){}})()</script><body class=page-benchmarks><a class=skip-link href=#main-content>Skip to main content</a><div class="layout layout--product layout--fixed-header" data-mode=product><div class=layout__main><header class=header role=banner><div class=header__left><a aria-label="hx - Go to homepage" class=header__logo href=https://hx.raskell.io> <span class=brand-text>hx</span> </a></div><nav aria-label="Main navigation" class=header__nav role=navigation><a class=header__link href=/docs/> Docs </a><a class="header__link active" href=/benchmarks/> Benchmarks </a><a class=header__link href=https://github.com/raskell-io/hx> GitHub </a></nav><div aria-label="Site actions" class=header__actions role=group><div class=header__actions-desktop><button aria-label="Toggle color theme: cycles through light, dark, and auto modes" title="Toggle theme" aria-live=polite class=theme-toggle type=button><span class=theme-toggle__icons> <span aria-hidden=true class=theme-toggle__sun> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=4 /><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg> </span> <span aria-hidden=true class=theme-toggle__moon> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg> </span> <span aria-hidden=true class=theme-toggle__auto> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=10 /><path d="M12 2a7 7 0 1 0 7 7"/></svg> </span> </span> <span class="sr-only theme-toggle__status">Current theme: auto</span></button><a aria-label="View project on GitHub (opens in new tab)" class="btn btn--icon btn--ghost" rel="noopener noreferrer" href=https://github.com/raskell-io/hx target=_blank title=GitHub> <svg viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg> </a></div></div></header><main aria-label="Main content" class=main-content id=main-content role=main><article aria-labelledby=article-title class=article itemscope itemtype=https://schema.org/Article><header class="article__header article__header--docs"><h1 id=article-title itemprop=headline>Benchmarks</h1><p class=article__description itemprop=description>Performance benchmarks comparing hx native builds to cabal-based builds</header><div class=article__content itemprop=articleBody><h1 id=build-performance-benchmarks>Build Performance Benchmarks</h1><p>hx includes a native build mode that bypasses Cabal for simple projects, compiling directly with GHC. This results in significantly faster build times for projects without complex build requirements.<h2 id=test-environment>Test Environment</h2><table><thead><tr><th>Property<th>Value<tbody><tr><td><strong>hx version</strong><td>0.3.6<tr><td><strong>GHC version</strong><td>9.8.2<tr><td><strong>Platform</strong><td>macOS (Apple Silicon)<tr><td><strong>Date</strong><td>January 17, 2026</table><p><strong>Test project:</strong> Simple 3-module executable with Main.hs, Lib.hs, and Utils.hs. Single dependency on <code>base</code>.<hr><h2 id=native-vs-cabal-build-performance>Native vs Cabal Build Performance</h2><h3 id=cold-build-clean>Cold Build (Clean)</h3><p>A fresh build after removing all build artifacts (<code>.hx/</code>, <code>dist-newstyle/</code>).<table><thead><tr><th>Build Mode<th>Time<th>Speedup<tbody><tr><td><strong>hx native</strong><td>0.48s<td>—<tr><td>cabal<td>2.68s<td>—<tr><td><strong>Improvement</strong><td>—<td><strong>5.6x faster</strong></table><h3 id=incremental-build-no-changes>Incremental Build (No Changes)</h3><p>Subsequent build with no source file modifications.<table><thead><tr><th>Build Mode<th>Time<th>Speedup<tbody><tr><td><strong>hx native</strong><td>0.05s<td>—<tr><td>cabal<td>0.39s<td>—<tr><td><strong>Improvement</strong><td>—<td><strong>7.8x faster</strong></table><hr><h2 id=why-native-builds-are-faster>Why Native Builds Are Faster</h2><p>Native builds skip Cabal’s build orchestration entirely:<ol><li><strong>Direct GHC invocation</strong> — hx constructs the module graph and calls GHC directly<li><strong>No Cabal overhead</strong> — No package database queries, no build plan calculation<li><strong>Aggressive caching</strong> — Fingerprint-based caching with minimal I/O<li><strong>Parallel compilation</strong> — Native parallel builds without Cabal’s job scheduling</ol><h3 id=when-to-use-native-builds>When to Use Native Builds</h3><p>Native builds work best for:<ul><li>Single-package projects<li>Projects with only <code>base</code> dependencies (or no dependencies)<li>Quick iteration during development<li>CI pipelines where speed matters</ul><p>For complex projects with many dependencies, hx falls back to Cabal-based builds which provide full dependency resolution and build planning.<hr><h2 id=preprocessor-performance>Preprocessor Performance</h2><p>Preprocessors add minimal overhead to native builds:<table><thead><tr><th>Preprocessor<th>File Type<th>Additional Time<tbody><tr><td><strong>alex</strong><td><code>.x</code><td>~50ms<tr><td><strong>happy</strong><td><code>.y</code><td>~100ms<tr><td><strong>hsc2hs</strong><td><code>.hsc</code><td>~335ms</table><hr><h2 id=reproducing-these-benchmarks>Reproducing These Benchmarks</h2><p>You can reproduce these benchmarks on your own machine:<pre class=language-bash data-lang=bash><code class=language-bash data-lang=bash># Create test project
mkdir /tmp/hx-bench && cd /tmp/hx-bench

cat > hx.toml << 'EOF'
[project]
name = "hx-bench"

[toolchain]
ghc = "9.8.2"
EOF

cat > hx-bench.cabal << 'EOF'
cabal-version: 3.0
name: hx-bench
version: 0.1.0.0
build-type: Simple

executable hx-bench
    main-is: Main.hs
    other-modules: Lib, Utils
    hs-source-dirs: src
    default-language: GHC2021
    build-depends: base
EOF

mkdir src
echo 'module Main where; import Lib; import Utils; main = putStrLn (format greeting)' > src/Main.hs
echo 'module Lib (greeting) where; greeting = "Hello"' > src/Lib.hs
echo 'module Utils (format) where; format s = ">>> " ++ s ++ " <<<"' > src/Utils.hs

# Benchmark native build (cold)
rm -rf .hx dist-newstyle
time hx build --native

# Benchmark cabal build (cold)
rm -rf .hx dist-newstyle
time hx build

# Benchmark incremental (run again without changes)
time hx build --native
time hx build
</code></pre><hr><h2 id=historical-results>Historical Results</h2><table><thead><tr><th>Version<th>Date<th>Native Cold<th>Cabal Cold<th>Speedup<tbody><tr><td>0.3.6<td>2026-01-17<td>0.48s<td>2.68s<td>5.6x</table><hr><h2 id=methodology>Methodology</h2><ul><li><strong>Cold builds</strong> are measured after completely removing <code>.hx/</code> and <code>dist-newstyle/</code> directories<li><strong>Incremental builds</strong> are measured on subsequent runs with no source changes<li>Times are wall-clock time from <code>time</code> command<li>Each measurement is the median of 3 runs<li>Benchmarks run on a quiet system with minimal background processes</ul></div><meta content=raskell.io itemprop=author></article></main></div></div><div aria-hidden=true class=sidebar-overlay></div><div aria-hidden=true class=nav-overlay id=nav-overlay><div class=nav-overlay__backdrop></div><div class=nav-overlay__panel><div class=nav-overlay__header><span class="nav-overlay__title brand-text">hx</span><button aria-label="Close navigation" class=nav-overlay__close><svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg></button></div><nav class=nav-overlay__nav><ul class=nav-overlay__list><li class=nav-overlay__item><a class=nav-overlay__link href=/docs/> Docs </a><li class=nav-overlay__item><a class="nav-overlay__link nav-overlay__link--active" href=/benchmarks/> Benchmarks </a><li class=nav-overlay__item><a class=nav-overlay__link href=https://github.com/raskell-io/hx> GitHub </a></ul></nav><div class=nav-overlay__footer><div class=nav-overlay__theme><span class=nav-overlay__theme-label>Theme</span><button aria-label="Toggle color theme: cycles through light, dark, and auto modes" title="Toggle theme" aria-live=polite class=theme-toggle type=button><span class=theme-toggle__icons> <span aria-hidden=true class=theme-toggle__sun> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=4 /><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg> </span> <span aria-hidden=true class=theme-toggle__moon> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg> </span> <span aria-hidden=true class=theme-toggle__auto> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><circle cx=12 cy=12 r=10 /><path d="M12 2a7 7 0 1 0 7 7"/></svg> </span> </span> <span class="sr-only theme-toggle__status">Current theme: auto</span></button></div><a class=nav-overlay__github href=https://github.com/raskell-io/hx rel=noopener target=_blank> <svg viewbox="0 0 24 24" fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg> <span>View on GitHub</span> </a></div></div></div><button aria-label="Scroll to top" class="fab scroll-to-top" title="Scroll to top"><svg viewbox="0 0 24 24" aria-hidden=true fill=none height=24 stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 width=24 xmlns=http://www.w3.org/2000/svg><path d="m18 15-6-6-6 6"/></svg></button><script defer src=https://hx.raskell.io/js/theme.js></script><script defer src=https://hx.raskell.io/js/navigation.js></script><script defer src=https://hx.raskell.io/js/code.js></script>